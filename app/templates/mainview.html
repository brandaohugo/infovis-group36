{% extends "base.html" %}
{% block title %}Map{% endblock %}
{% block body %}
    <script type="text/javascript">
        d3.selectAll(".nav-item").classed("active", false);
        d3.select("#nav-link-map").classed("active", true);
        let map_data = {{ map_data|tojson }};
        let airport_locations = {{ airport_locations|tojson }};
        let airport_names = {{ airport_names|tojson }};
        let plot_data = {{ plot_data |safe }};
        let table_data = {{ table_data |safe }};
    </script>

    <div class="row h-100">

        {#        <div class="col-lg-6 flex-grow-1 border-right text-center" id="linechart"></div>#}
        <div class="col-lg flex-grow-1 border-right">
            <form class="form-group form-inline autocomplete" id="origin-form" autocomplete="off">
                <input type="text" class="form-control"
                       id="origin-input-selector"
                       placeholder="Origin Airport"
                       name="origin_value">
                <input type="submit" value="Submit">
                <input type="reset" value="Clear">
            </form>
            <div class="col-lg flex-grow-1 col-xs-4 text-center align-self-center" id="originSelector">
                <div class="row">
                    <div class="col" id="origin-flights">
                    </div>
                    <div class="col" id="origin-connections">
                    </div>
                    <div class="col" id="origin-canceled">
                    </div>
                </div>
            </div>
        </div>


        <div class="col-lg flex-grow-1 border-left">
            <form class="form-group form-inline autocomplete" id="destination-form" autocomplete="off"
                  style="display: block">
                <input type="text" class="form-control"
                       id="destination-input-selector"
                       placeholder="Destination Airport"
                       name="destination_value">
                <input type="submit" value="Submit">
                <input type="reset" value="Clear">
            </form>
            <div class="col-lg flex-grow-1" id="map-view">
    {#                <button onclick="resetMap()">Reset Map</button>#}
            </div>

            <div class="col-lg flex-grow-1" id="destination-airport" style="display: none">
            </div>
        </div>
    </div>
    <div class="row h-100">

        <div class="col-lg-6 flex-grow-1 border-right border-top text-center"
             id="origin-chart"></div>
        <div class="col-lg flex-grow-1 border-right border-top text-center" id="od-chart"
             style="background: grey; display: none ">
        </div>
    </div>

    {#    <script src="https://cdn.jsdelivr.net/gh/xcash/bootstrap-autocomplete@v2.3.7/dist/latest/bootstrap-autocomplete.min.js"></script>#}


    <script type="text/javascript" src="https://code.jquery.com/jquery-1.6.2.min.js"></script>
    <script type="text/javascript" src="../static/js/jquery.tipsy.js"></script>

    <script type="text/javascript" src="../static/js/infoBox.js"></script>

    <script type="text/javascript" src="../static/js/airportSelection.js"></script>
    <script type="text/javascript" src="../static/js/originAirport.js"></script>
    <script type="text/javascript" src="../static/js/destinationAirport.js"></script>

    <script src="https://cdn.jsdelivr.net/gh/holtzy/D3-graph-gallery@master/LIB/sankey.js"></script>

    <script type="text/javascript" src="../static/js/map.js"></script>



    <link rel="stylesheet" type="text/css" href="../static/css/linechart.css">
    <link rel="stylesheet" type="text/css" href="../static/css/flowchart.css">
    <link rel="stylesheet" type="text/css" href="../static/css/autocompleteform.css">

    <link href="../static/css/tooltip.css" rel="stylesheet" type="text/css">
    <link href="../static/css/tipsy.css" rel="stylesheet" type="text/css"/>


    <script>
        originAirport();
    </script>
{% endblock %}
